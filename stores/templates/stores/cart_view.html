{% extends 'main/base.html'%}

{% block title %}Cart{% endblock %}


{% block content %}
<main class="pt-5">
    <!-- Modal -->
    <div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Increase Bid</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <form id="post-form">
                <div><input type="number" name="" id=""></div>

                  <div class="modal-footer">
                      <button type="submit" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                      <button type="submit" class="btn btn-success">Save changes</button>
                  </div>
              </form>
          </div>
      </div>
      </div>
  </div>
<div class="container">
    <div class="pb-3 h2">Cart</div>
    {% for item in cart %}
  <div data-index="" class="row mb-4 border product-item">
    <div class="col-md-3 col-lg-2 order-md-first bg-light">
      <img class="img-fluid mx-auto d-block" width="120px" alt="Responsive image" src="{{item.product.image.url}}">
    </div>
    <div class="col-md-9 col-lg-10 ps-md-3 ps-lg-10">
      <a href="" class="text-decoration-none text-reset">
        <h1 class="h5 pt-2"><a class="text-dark text-decoration-none" href="{{ item.get_absolute_url }}"></a></h1>
        {{item.product.title}}

      </a>
      <div class="border">
        <div class="col border-bottom">
          <div class="row p-3">
              <div class="col-6" style="font-weight: bold">{{item.quantity}}</div>
            <div class="col-6 text-end"><span class="h6 fw-bold">#{{item.product.get_display_price}}</span></div>
          </div>
        </div>
        <div class="col">
          <div class="row p-3">
            <div class="col-12">
              <button type="button" id="update-button" data-index=""
                class="btn btn-success btn-sm" data-bs-toggle="modal" data-bs-target="#updateModal">
                Update
              </button>
              <button type="button" id="delete-button" data-index="" class="btn btn-danger btn-sm">
                <a href="{% url 'remove-from-cart' item.product.id %}"style="color:white;text-decoration:none;">
                    Remove
                </a>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
  <div class="row p-3">
    <div class="col-6" style="font-weight: bold">Total: #{{cart.get_total_cost}}</div>
  <div class="col-6 text-end">
    <button type="button" class="btn btn-success btn-sm">
      <a href="{% url 'checkout' %}" style="color:white;text-decoration:none;">Checkout</a>
  </button>
  </div>
</div>
</div>
</main>


{% endblock %}